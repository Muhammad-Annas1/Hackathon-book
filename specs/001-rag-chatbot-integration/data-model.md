# Data Model for RAG Chatbot

This document defines the key data entities used in the RAG Chatbot feature. These are logical entities; the physical implementation may vary.

## Entity: ChatRequest

Represents a single request sent from the user's client to the backend API.

| Attribute | Type | Description | Required |
|---|---|---|---|
| `question` | string | The question asked by the user. | Yes |
| `context` | string | Optional text selected by the user to narrow the focus of the question. | No |

**Validation Rules**:
- `question` must be a non-empty string.
- `context` can be null or a non-empty string.

## Entity: ChatResponse

Represents the response sent from the backend API back to the client.

| Attribute | Type | Description | Required |
|---|---|---|---|
| `answer` | string | The answer generated by the LLM based on the retrieved context. | Yes |
| `source_nodes` | array[SourceNode] | A list of content nodes from the vector store that were used as context to generate the answer. | No |

## Entity: SourceNode

Represents a chunk of content retrieved from the vector database (Qdrant). This is primarily a backend-internal entity used to construct the final answer.

| Attribute | Type | Description |
|---|---|---|
| `id` | string | The unique identifier for the content chunk. |
| `text` | string | The actual text content of the chunk. |
| `score` | float | The similarity score from the vector search. |
| `metadata` | object | Any associated metadata, such as the source document name, page number, etc. |
